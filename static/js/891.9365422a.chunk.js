"use strict";(self.webpackChunkkaranbala=self.webpackChunkkaranbala||[]).push([[891],{2891:function(e,n,t){t.r(n),t.d(n,{default:function(){return ce}});var r=t(7313),o=t(8467),i=t(9506),a=t(1113),s=t(7131),l=t(8070),c=t(5554),u=t(3433),d=t(9439),p=t(9099),m=t(2135),f=t(6417),h=function(e){var n=(0,r.useState)([{key:"",value:!1}]),t=(0,d.Z)(n,2),o=t[0],i=t[1],a=e.item,s=e.depthLevel,l=(0,r.useRef)();return(0,f.jsx)("li",{className:"menu-items",ref:l,children:a.category?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("span",{className:"categoryTitle",children:a.category.title}),a.category.children.map((function(e,n){var t;return(0,f.jsx)(r.Fragment,{children:e.submenu?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsxs)("button",{type:"button","aria-haspopup":"menu",onClick:function(){i((function(n){var t;return[].concat((0,u.Z)(n),[{key:e.title,value:!(null!==(t=n[n.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==t&&t.value)}])}))},style:{display:"flex",justifyContent:"space-between"},children:[e.title," ",s>0?(0,f.jsx)("span",{children:"\xbb"}):(0,f.jsxs)(f.Fragment,{children:[" ",null!==(t=o[o.map((function(e){return e.key})).lastIndexOf(e.title)])&&void 0!==t&&t.value?(0,f.jsx)("span",{className:"arrow"}):(0,f.jsx)("span",{className:"arrow-left"})]})]}),(0,f.jsx)(x,{depthLevel:s,submenus:e.submenu,subtitle:o,index:e.title})]}):(0,f.jsx)(p.Z,{disableRipple:!0,component:m.OL,to:e.to,startIcon:e.startIcon,children:e.title})},n)}))]}):(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(p.Z,{disableRipple:!0,component:m.OL,to:a.to,startIcon:a.startIcon,children:a.title})})})},x=function(e){var n,t=e.submenus,r=e.depthLevel,o=e.index,i=e.subtitle,a=i.map((function(e){return e.key})).lastIndexOf(o),s=(r+=1)>1?"dropdown-submenu":"";return(0,f.jsx)("ul",{"data-id":o,className:"dropdown ".concat(s," ").concat(null!==(n=i[a])&&void 0!==n&&n.value?"show":""),children:t.map((function(e,n){return(0,f.jsx)(h,{item:e,depthLevel:r},n)}))})},v=(0,t(7894).Z)(i.Z)((function(){return"\n  :root{\n    font-family:IRANSans !important;\n    }\n  \n  .menus {\n    display: flex;\n    list-style: none;\n    direction: ltr;\n    flex-direction: column;\n    \n  }\n  .menu-items {\n    position: relative;\n    text-align: left;\n    \n  }\n  \n  .menu-items a,\n  .menu-items button {\n    margin: 0 ;\n    padding:0 10px 0  0;\n    line-height: 2;\n    font-family:IRANSans !important;\n\n  }\n  \n  .menu-items a {\n    display: block;\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  .menu-items button {\n    color: inherit;\n    font-size: inherit;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    width: 100%;\n  }\n \n  .arrow::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-top: 0.42em solid;\n    border-right: 0.32em solid transparent;\n    border-left: 0.32em solid transparent;\n  }\n\n  .arrow-left::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-bottom: 0.32em solid transparent;\n    border-right: 0.32em solid  transparent;\n    border-left: 0.42em solid ;\n    border-top: 0.32em solid transparent;\n  }\n\n  .categoryTitle{\n    color: #707e8d\n  }\n  \n  .dropdown {\n\n    box-shadow: 0 10px 15px -3px rgba(46, 41, 51, 0.08),\n    0 4px 6px -2px rgba(71, 63, 79, 0.16);\n    z-index: 9999;\n    min-width: 100px;\n    padding: 0.5rem 0;\n    border-radius: 0.5rem;\n    list-style-type: disc; \n    display: none;\n  }\n  \n  .dropdown.show {\n    display: block;\n    padding: 0 28px;\n  }\n  \n  .dropdown .dropdown-submenu {\n    position: absolute;\n    left: 10px;\n    top: 15px\n  }\n  span{ display: inline}\n  span .MuiSvgIcon-root{font-size:15px}\n  "})),j=function(e){var n=e.children;return(0,f.jsx)(v,{children:(0,f.jsx)("ul",{className:"menus",children:n})})},b=function(e){var n=e.items;return(0,f.jsx)(j,{children:n.map((function(e,n){return(0,f.jsx)(h,{item:e,depthLevel:0,children:" "},n)}))})},g=t(7887),Z=t(1765),y=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,f.jsx)(g.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/admin",startIcon:(0,f.jsx)(Z.Z,{})},{category:{children:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u062d\u062a\u0648\u0627",submenu:[{title:"\u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/field-of-study"},{title:"\u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/grade-level"},{title:"\u06a9\u062a\u0627\u0628",to:"/pv/karanbala/admin/book"},{title:"\u062a\u0631\u0645 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/pv/karanbala/admin/term-of-study"},{title:"\u0641\u0635\u0644",to:"/pv/karanbala/admin/chapter"},{title:"\u0645\u0648\u0636\u0648\u0639",to:"/pv/karanbala/admin/subject"}]}]}}],w=t(2702),k=t(9273),N=t(874),S=function(e){var n,t=e.route,r=e.userRole,i=e.children,a=null===r||void 0===r||null===(n=r.roles)||void 0===n?void 0:n.some((function(e){var n;return t.requiredRoles.includes(e.title)&&(null===(n=e.permissions)||void 0===n?void 0:n.some((function(e){return e.resource===t.resource&&e.action===t.action})))}));return a||void 0===a?(0,f.jsx)(f.Fragment,{children:i}):(localStorage.removeItem("token"),N.h.dispatch({type:k.Q.SetUserToken,payload:null}),(0,f.jsx)(o.Fg,{to:"/"}))},R=t(1413),A=t(4165),I=t(5861),T=t(6783),E=t(5281),W=t(5627),C=t(56),z=t(173),q=function(){return(0,C.useMutation)((function(e){return z.T.fieldOfStudyControllerCreate((0,R.Z)({},e))}))},F=t(1387),L=(0,l.Z)((function(e){return{container:{margin:"32px 52px"},formContainer:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"2rem",margin:"1rem",border:"1px solid ".concat(e.palette.primary.main),borderRadius:"5px",boxShadow:"0px 1px 2px ".concat(e.palette.primary.main)},formTitle:{marginBottom:"2rem",fontSize:"2rem",fontWeight:"bold",color:e.palette.primary.main},formField:{margin:"1rem",width:"100%"},formButton:{margin:"1rem",width:"100%"}}})),U=function(){var e=L();(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var n=(0,r.useState)(!1),t=(0,d.Z)(n,2),o=t[0],a=t[1],s=q(),l=(0,W.cI)(),c=l.handleSubmit,u=l.register,m=(l.formState.errors,function(){var e=(0,I.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!0),s.mutate(n,{onSuccess:function(){var e=(0,I.Z)((0,A.Z)().mark((function e(n){return(0,A.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:200==n.statusCode?(a(!1),F.Am.success(n.message)):(a(!1),F.Am.error(n.message));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()});case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());return(0,f.jsx)(i.Z,{className:e.container,children:(0,f.jsxs)("form",{onSubmit:c(m),children:[(0,f.jsx)(T.Z,{label:"\u0639\u0646\u0648\u0627\u0646 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",variant:"outlined",className:e.formField,InputProps:(0,R.Z)({},u("title",{required:"\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc \u0631\u0627 \u0648\u0627\u0631\u062f \u06a9\u0646\u06cc\u062f"}))}),(0,f.jsx)(p.Z,{variant:"contained",color:"primary",className:e.formButton,disabled:o,type:"submit",children:o?(0,f.jsx)(E.Z,{size:24}):"\u0630\u062e\u06cc\u0631\u0647"})]})})},V=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),H=function(){var e=V();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},M=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),O=function(){var e=M();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u06a9\u062a\u0627\u0628"})},Q=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),B=function(){var e=Q();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u0641\u0635\u0644"})},D=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),K=function(){var e=D();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u0645\u0648\u0636\u0648\u0639"})},P=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),G=function(){var e=P();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u067e\u0627\u06cc\u0647"})},J=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),X=function(){var e=J();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u062a\u0631\u0645"})},Y=function(){var e=(0,c.v9)((function(e){return e.user}));return(0,f.jsxs)(o.Z5,{children:[(0,f.jsx)(o.AW,{path:"/field-of-study",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(U,{})})}),(0,f.jsx)(o.AW,{path:"/grade-level",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(G,{})})}),(0,f.jsx)(o.AW,{path:"/book",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(O,{})})}),(0,f.jsx)(o.AW,{path:"/term-of-study",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(X,{})})}),(0,f.jsx)(o.AW,{path:"/chapter",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(B,{})})}),(0,f.jsx)(o.AW,{path:"/subject",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(K,{})})}),(0,f.jsx)(o.AW,{path:"/",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(H,{})})})]})},$=(0,l.Z)((function(e){return{container:{margin:"32px 52px"},contentWrapper:{},content:{margin:"16px 0",padding:"2px 0",float:"right"},menu:{margin:"0 0 0 150px ",width:"200px",float:"right"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),_=function(){var e,n,t,l=(0,c.v9)((function(e){return e.user}));(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,r.useEffect)((function(){}),[l]);var u=$(),d=(0,o.s0)();return(0,f.jsxs)(i.Z,{className:u.container,children:[(0,f.jsxs)(i.Z,{display:"flex",justifyContent:"space-around",children:[(0,f.jsxs)(i.Z,{display:"flex",gap:"10px",children:[(0,f.jsx)(a.Z,{variant:"h5",children:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.username}),null===l||void 0===l||null===(n=l.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return(0,f.jsx)(i.Z,{className:u.badge,children:(0,f.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,f.jsx)(i.Z,{children:(0,f.jsx)(s.Z,{className:u.button,onClick:function(){localStorage.removeItem("token"),N.h.dispatch({type:k.Q.SetUserToken,payload:null}),d("/")},children:(0,f.jsx)(w.Z,{})})})]}),(0,f.jsxs)(i.Z,{className:u.contentWrapper,children:[(0,f.jsx)(i.Z,{className:u.menu,children:(0,f.jsx)(b,{items:y})}),(0,f.jsx)(i.Z,{className:u.content,children:(0,f.jsx)(Y,{})})]})]})},ee=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,f.jsx)(g.Z,{})},{title:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f",to:"/pv/karanbala/dashboard",startIcon:(0,f.jsx)(Z.Z,{})},{category:{children:[{title:"\u067e\u0631\u0648\u0641\u0627\u06cc\u0644"}]}}],ne=(0,l.Z)((function(e){return{container:{margin:"32px 52px"}}})),te=function(){var e=ne();return(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,f.jsx)(i.Z,{className:e.container,children:"\u062f\u0627\u0634\u0628\u0648\u0631\u062f"})},re=function(){var e=(0,c.v9)((function(e){return e.user}));return(0,f.jsx)(o.Z5,{children:(0,f.jsx)(o.AW,{path:"/",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,f.jsx)(te,{})})})})},oe=(0,l.Z)((function(e){return{container:{margin:"32px 52px"},contentWrapper:{},content:{margin:"16px 0",padding:"2px 0",float:"right"},menu:{margin:"0 0 0 150px ",width:"200px",float:"right"},button:{color:e.palette.text.primary},badge:{backgroundColor:e.palette.primary.main,color:e.palette.common.white,padding:"5px"}}})),ie=function(){var e,n,t,l=(0,c.v9)((function(e){return e.user}));(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,r.useEffect)((function(){}),[l]);var u=oe(),d=(0,o.s0)();return(0,f.jsxs)(i.Z,{className:u.container,children:[(0,f.jsxs)(i.Z,{display:"flex",justifyContent:"space-around",children:[(0,f.jsxs)(i.Z,{display:"flex",gap:"10px",children:[(0,f.jsx)(a.Z,{variant:"h5",children:null===l||void 0===l||null===(e=l.user)||void 0===e?void 0:e.username}),null===l||void 0===l||null===(n=l.user)||void 0===n||null===(t=n.roles)||void 0===t?void 0:t.map((function(e){return(0,f.jsx)(i.Z,{className:u.badge,children:(0,f.jsx)(a.Z,{variant:"body2",children:"User"===e.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},e.title)}))]}),(0,f.jsx)(i.Z,{children:(0,f.jsx)(s.Z,{className:u.button,onClick:function(){localStorage.removeItem("token"),N.h.dispatch({type:k.Q.SetUserToken,payload:null}),d("/")},children:(0,f.jsx)(w.Z,{})})})]}),(0,f.jsxs)(i.Z,{className:u.contentWrapper,children:[(0,f.jsx)(i.Z,{className:u.menu,children:(0,f.jsx)(b,{items:ee})}),(0,f.jsx)(i.Z,{className:u.content,children:(0,f.jsx)(re,{})})]})]})},ae=t(5200),se=t(3960),le=function(e){var n,t=e.children,o=null!==(n=(0,c.v9)((function(e){return e.auth})).token)&&void 0!==n?n:localStorage.getItem("token");return(0,r.useEffect)((function(){if(o){var e=(0,ae.Z)(null!==o&&void 0!==o?o:"");se.f.TOKEN=o,N.h.dispatch({type:k.Q.SetUserToken,payload:o}),N.h.dispatch({type:k.Q.SetUserData,payload:e})}}),[o]),(0,f.jsx)(f.Fragment,{children:t})},ce=function(){var e=(0,c.v9)((function(e){return e.user})),n=localStorage.getItem("token"),t=(0,o.s0)();return(0,r.useEffect)((function(){void 0==n&&t("/")}),[t,n,e]),(0,f.jsx)(le,{children:(0,f.jsxs)(o.Z5,{children:[(0,f.jsx)(o.AW,{path:"/karanbala/dashboard/*",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,f.jsx)(ie,{})})}),(0,f.jsx)(o.AW,{path:"/karanbala/admin/*",element:(0,f.jsx)(S,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,f.jsx)(_,{})})})]})})}},1765:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5045)),i=t(6417),a=(0,o.default)((0,i.jsx)("path",{d:"M3 13h8V3H3v10zm0 8h8v-6H3v6zm10 0h8V11h-8v10zm0-18v6h8V3h-8z"}),"Dashboard");n.Z=a},2702:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5045)),i=t(6417),a=(0,o.default)((0,i.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");n.Z=a},7887:function(e,n,t){var r=t(4836);n.Z=void 0;var o=r(t(5045)),i=t(6417),a=(0,o.default)([(0,i.jsx)("path",{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},"0"),(0,i.jsx)("path",{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"},"1")],"HomeWork");n.Z=a}}]);
"use strict";(self.webpackChunkkaranbala=self.webpackChunkkaranbala||[]).push([[903],{6903:function(n,e,t){t.r(e),t.d(e,{default:function(){return C}});var r=t(7313),o=t(8467),i=t(9506),l=t(1113),a=t(7131),s=t(8070),c=t(5554),u=t(3433),d=t(9439),p=t(9099),m=t(2135),h=t(6417),v=function(n){var e=(0,r.useState)([{key:"",value:!1}]),t=(0,d.Z)(e,2),o=t[0],i=t[1],l=n.item,a=n.depthLevel,s=(0,r.useRef)();return(0,h.jsx)("li",{className:"menu-items",ref:s,children:l.category?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("span",{className:"categoryTitle",children:l.category.title}),l.category.children.map((function(n,e){var t;return(0,h.jsx)(r.Fragment,{children:n.submenu?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("button",{type:"button","aria-haspopup":"menu",onClick:function(){i((function(e){var t;return[].concat((0,u.Z)(e),[{key:n.title,value:!(null!==(t=e[e.map((function(n){return n.key})).lastIndexOf(n.title)])&&void 0!==t&&t.value)}])}))},style:{display:"flex",justifyContent:"space-between"},children:[n.title," ",a>0?(0,h.jsx)("span",{children:"\xbb"}):(0,h.jsxs)(h.Fragment,{children:[" ",null!==(t=o[o.map((function(n){return n.key})).lastIndexOf(n.title)])&&void 0!==t&&t.value?(0,h.jsx)("span",{className:"arrow"}):(0,h.jsx)("span",{className:"arrow-left"})]})]}),(0,h.jsx)(x,{depthLevel:a,submenus:n.submenu,subtitle:o,index:n.title})]}):(0,h.jsx)(p.Z,{disableRipple:!0,component:m.OL,to:n.to,startIcon:n.startIcon,children:n.title})},e)}))]}):(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(p.Z,{disableRipple:!0,component:m.OL,to:l.to,startIcon:l.startIcon,children:l.title})})})},x=function(n){var e,t=n.submenus,r=n.depthLevel,o=n.index,i=n.subtitle,l=i.map((function(n){return n.key})).lastIndexOf(o),a=(r+=1)>1?"dropdown-submenu":"";return(0,h.jsx)("ul",{"data-id":o,className:"dropdown ".concat(a," ").concat(null!==(e=i[l])&&void 0!==e&&e.value?"show":""),children:t.map((function(n,e){return(0,h.jsx)(v,{item:n,depthLevel:r},e)}))})},f=(0,t(7894).Z)(i.Z)((function(){return"\n  :root{\n    font-family:IRANSans !important;\n    }\n  \n  .menus {\n    display: flex;\n    list-style: none;\n    direction: ltr;\n    flex-direction: column;\n    \n  }\n  .menu-items {\n    position: relative;\n    text-align: left;\n    \n  }\n  \n  .menu-items a,\n  .menu-items button {\n    margin: 0 ;\n    padding:0 10px 0  0;\n    line-height: 2;\n    font-family:IRANSans !important;\n\n  }\n  \n  .menu-items a {\n    display: block;\n    color: inherit;\n    text-decoration: none;\n  }\n  \n  .menu-items button {\n    color: inherit;\n    font-size: inherit;\n    border: none;\n    background-color: transparent;\n    cursor: pointer;\n    width: 100%;\n  }\n \n  .arrow::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-top: 0.42em solid;\n    border-right: 0.32em solid transparent;\n    border-left: 0.32em solid transparent;\n  }\n\n  .arrow-left::after {\n    content: '';\n    display: inline-block;\n    margin-left: 0.28em;\n    vertical-align: 0.09em;\n    border-bottom: 0.32em solid transparent;\n    border-right: 0.32em solid  transparent;\n    border-left: 0.42em solid ;\n    border-top: 0.32em solid transparent;\n  }\n\n  .categoryTitle{\n    color: #707e8d\n  }\n  \n  .dropdown {\n\n    box-shadow: 0 10px 15px -3px rgba(46, 41, 51, 0.08),\n    0 4px 6px -2px rgba(71, 63, 79, 0.16);\n    z-index: 9999;\n    min-width: 100px;\n    padding: 0.5rem 0;\n    border-radius: 0.5rem;\n    list-style-type: disc; \n    display: none;\n  }\n  \n  .dropdown.show {\n    display: block;\n    padding: 0 28px;\n  }\n  \n  .dropdown .dropdown-submenu {\n    position: absolute;\n    left: 10px;\n    top: 15px\n  }\n  span{ display: inline}\n  span .MuiSvgIcon-root{font-size:15px}\n  "})),j=function(n){var e=n.children;return(0,h.jsx)(f,{children:(0,h.jsx)("ul",{className:"menus",children:e})})},b=function(n){var e=n.items;return(0,h.jsx)(j,{children:e.map((function(n,e){return(0,h.jsx)(v,{item:n,depthLevel:0,children:" "},e)}))})},g=t(7887),y=[{title:"\u062e\u0627\u0646\u0647",to:"/",startIcon:(0,h.jsx)(g.Z,{})},{category:{children:[{title:"\u0645\u062f\u06cc\u0631\u06cc\u062a \u0645\u062d\u062a\u0648\u0627",submenu:[{title:"\u0631\u0634\u062a\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/"},{title:"\u067e\u0627\u06cc\u0647 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/"},{title:"\u06a9\u062a\u0627\u0628",to:"/"},{title:"\u062a\u0631\u0645 \u062a\u062d\u0635\u06cc\u0644\u06cc",to:"/"},{title:"\u0641\u0635\u0644",to:"/"},{title:"\u0645\u0648\u0636\u0648\u0639",to:"/"}]}]}}],k=t(2702),Z=(0,s.Z)((function(n){return{container:{margin:"32px 52px"},contentWrapper:{},content:{margin:"16px 0",padding:"2px 0",float:"right"},menu:{margin:"0 0 0 150px ",width:"200px",float:"right"},button:{color:n.palette.text.primary},badge:{backgroundColor:n.palette.primary.main,color:n.palette.common.white,padding:"5px"}}})),w=function(){var n,e,t,s=(0,c.v9)((function(n){return n.user}));(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,r.useEffect)((function(){}),[s]);var u=Z(),d=(0,o.s0)();return(0,h.jsxs)(i.Z,{className:u.container,children:[(0,h.jsxs)(i.Z,{display:"flex",justifyContent:"space-around",children:[(0,h.jsxs)(i.Z,{display:"flex",gap:"10px",children:[(0,h.jsx)(l.Z,{variant:"h5",children:null===s||void 0===s||null===(n=s.user)||void 0===n?void 0:n.username}),null===s||void 0===s||null===(e=s.user)||void 0===e||null===(t=e.roles)||void 0===t?void 0:t.map((function(n){return(0,h.jsx)(i.Z,{className:u.badge,children:(0,h.jsx)(l.Z,{variant:"body2",children:"User"===n.title?"\u06a9\u0627\u0631\u0628\u0631 \u0639\u0627\u062f\u06cc":"\u0645\u062f\u06cc\u0631 \u06a9\u0644"})},n.title)}))]}),(0,h.jsx)(i.Z,{children:(0,h.jsx)(a.Z,{className:u.button,onClick:function(){localStorage.removeItem("token"),d("/")},children:(0,h.jsx)(k.Z,{})})})]}),(0,h.jsxs)(i.Z,{className:u.contentWrapper,children:[(0,h.jsx)(i.Z,{className:u.menu,children:(0,h.jsx)(b,{items:y})}),(0,h.jsx)(i.Z,{className:u.content,children:(0,h.jsx)(o.j3,{})})]})]})},I=(0,s.Z)((function(n){return{container:{margin:"0 52px"}}})),N=function(){var n,e,t=(0,c.v9)((function(n){return n.user}));(0,r.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var o=I();return(0,h.jsx)(i.Z,{className:o.container,children:(0,h.jsxs)(h.Fragment,{children:["\u0633\u0644\u0627\u0645 \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc ",null===t||void 0===t||null===(n=t.user)||void 0===n?void 0:n.username," \u0628\u0627 \u0646\u0642\u0634 ",null===t||void 0===t||null===(e=t.user)||void 0===e?void 0:e.roles[0].title]})})},R=t(874),S=t(9273),F=t(5200),L=function(n){var e,t=null!==(e=(0,c.v9)((function(n){return n.auth})).token)&&void 0!==e?e:localStorage.getItem("token");return(0,r.useEffect)((function(){if(t){var n=(0,F.Z)(null!==t&&void 0!==t?t:"");R.h.dispatch({type:S.Q.SetUserToken,payload:t}),R.h.dispatch({type:S.Q.SetUserData,payload:n})}}),[t]),(0,h.jsx)(h.Fragment,{children:n.children})},z=function(n){var e,t=n.route,r=n.userRole,i=n.children,l=null===r||void 0===r||null===(e=r.roles)||void 0===e?void 0:e.some((function(n){var e;return t.requiredRoles.includes(n.title)&&(null===(e=n.permissions)||void 0===e?void 0:e.some((function(n){return n.resource===t.resource&&n.action===t.action})))}));return l||void 0===l?(0,h.jsx)(h.Fragment,{children:i}):(localStorage.removeItem("token"),(0,h.jsx)(o.Fg,{to:"/"}))},C=function(){var n=(0,c.v9)((function(n){return n.user})),e=localStorage.getItem("token"),t=(0,o.s0)();return(0,r.useEffect)((function(){void 0==e&&t("/")}),[t,e,n]),(0,h.jsx)(L,{children:(0,h.jsxs)(o.Z5,{children:[(0,h.jsx)(o.AW,{path:"/karanbala/dashboard",element:(0,h.jsx)(z,{userRole:null===n||void 0===n?void 0:n.user,route:{requiredRoles:["User"],resource:"profile",action:"read"},children:(0,h.jsx)(N,{})})}),(0,h.jsx)(o.AW,{path:"/karanbala/admin",element:(0,h.jsx)(z,{userRole:null===n||void 0===n?void 0:n.user,route:{requiredRoles:["SuperAdmin"],resource:"post",action:"create"},children:(0,h.jsx)(w,{})})})]})})}},2702:function(n,e,t){var r=t(4836);e.Z=void 0;var o=r(t(5045)),i=t(6417),l=(0,o.default)((0,i.jsx)("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToApp");e.Z=l},7887:function(n,e,t){var r=t(4836);e.Z=void 0;var o=r(t(5045)),i=t(6417),l=(0,o.default)([(0,i.jsx)("path",{d:"M1 11v10h5v-6h4v6h5V11L8 6z"},"0"),(0,i.jsx)("path",{d:"M10 3v1.97l7 5V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"},"1")],"HomeWork");e.Z=l}}]);
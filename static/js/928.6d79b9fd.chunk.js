"use strict";(self.webpackChunkkaranbala=self.webpackChunkkaranbala||[]).push([[928],{9928:function(e,n,r){r.r(n),r.d(n,{default:function(){return k}});var t=r(5987),o=r(7313),i=r(8467),u=r(9506),l=r(8070),s=r(5554),a=r(6417),c=(0,l.Z)((function(e){return{container:{margin:"0 52px"}}})),d=function(){var e,n,r=(0,s.v9)((function(e){return e.user}));(0,o.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]),(0,o.useEffect)((function(){}),[r]);var t=c();return(0,a.jsx)(u.Z,{className:t.container,children:(0,a.jsxs)(a.Fragment,{children:["\u0633\u0644\u0627\u0645 \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc ",null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.username," \u0628\u0627 \u0646\u0642\u0634 ",null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.roles[0].title]})})},v=(0,l.Z)((function(e){return{container:{margin:"0 52px"}}})),f=function(){var e,n,r=(0,s.v9)((function(e){return e.user}));(0,o.useEffect)((function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}),[]);var t=v();return(0,a.jsx)(u.Z,{className:t.container,children:(0,a.jsxs)(a.Fragment,{children:["\u0633\u0644\u0627\u0645 \u062e\u0648\u0634 \u0622\u0645\u062f\u06cc ",null===r||void 0===r||null===(e=r.user)||void 0===e?void 0:e.username," \u0628\u0627 \u0646\u0642\u0634 ",null===r||void 0===r||null===(n=r.user)||void 0===n?void 0:n.roles[0].title]})})},h=r(874),m=r(9273),x=r(5200),p=function(e){var n,r=null!==(n=(0,s.v9)((function(e){return e.auth})).token)&&void 0!==n?n:localStorage.getItem("token");return(0,o.useEffect)((function(){if(r){var e=(0,x.Z)(null!==r&&void 0!==r?r:"");h.h.dispatch({type:m.Q.SetUserToken,payload:r}),h.h.dispatch({type:m.Q.SetUserData,payload:e})}}),[r]),(0,a.jsx)(a.Fragment,{children:e.children})},j=["children","userRole","route"],g=function(e){var n=e.children,r=e.userRole,o=e.route,u=((0,t.Z)(e,j),o.requiredPermissions);if(r){var l=null===r||void 0===r?void 0:r.roles;return u.map((function(e){return l.includes(e)}))?(0,a.jsx)(a.Fragment,{children:n}):(0,a.jsx)(i.Fg,{to:"/"})}return(0,a.jsx)(a.Fragment,{children:n})},k=function(){var e=(0,s.v9)((function(e){return e.user})),n=localStorage.getItem("token"),r=(0,i.s0)();return(0,o.useEffect)((function(){void 0==n&&r("/")}),[r,n]),(0,a.jsx)(p,{children:(0,a.jsxs)(i.Z5,{children:[(0,a.jsx)(i.AW,{path:"/karanbala/dashboard",element:(0,a.jsx)(g,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredPermissions:["User"]},children:(0,a.jsx)(f,{})})}),(0,a.jsx)(i.AW,{path:"/karanbala/admin",element:(0,a.jsx)(g,{userRole:null===e||void 0===e?void 0:e.user,route:{requiredPermissions:["SuperAdmin"]},children:(0,a.jsx)(d,{})})})]})})}}}]);
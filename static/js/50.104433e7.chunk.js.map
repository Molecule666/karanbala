{"version":3,"file":"static/js/50.104433e7.chunk.js","mappings":"gOAMMA,GAAYC,EAAAA,EAAAA,IAAW,SAACC,GAAY,MAAM,CAC5CC,UAAW,CACPC,OAAQ,UAEf,IAmBD,EAlBuB,WAAO,IAADC,EAAAC,EACnBC,GAAYC,EAAAA,EAAAA,KAAY,SAACC,GAA2B,OAAKA,EAAMF,IAAI,KAEzEG,EAAAA,EAAAA,YAAU,WACNC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,UACjD,GAAG,KAEHL,EAAAA,EAAAA,YAAU,WAAO,GAAG,CAACH,IACrB,IAAMS,EAAUhB,IAChB,OACIiB,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,UAAWH,EAAQb,UAAUiB,UAC9BC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAF,SAAA,CAAE,wEACqB,OAAJb,QAAI,IAAJA,GAAU,QAANF,EAAJE,EAAMA,YAAI,IAAAF,OAAN,EAAJA,EAAYkB,SAAS,oCAAa,OAAJhB,QAAI,IAAJA,GAAU,QAAND,EAAJC,EAAMA,YAAI,IAAAD,OAAN,EAAJA,EAAYkB,MAAM,OAI/E,ECpBMxB,GAAYC,EAAAA,EAAAA,IAAW,SAACC,GAAY,MAAM,CAC5CC,UAAW,CACPC,OAAQ,UAEf,IAiBD,EAhBsB,WAAO,IAADC,EAAAC,EAClBC,GAAYC,EAAAA,EAAAA,KAAY,SAACC,GAA2B,OAAKA,EAAMF,IAAI,KAEzEG,EAAAA,EAAAA,YAAU,WACNC,OAAOC,SAAS,CAAEC,IAAK,EAAGC,KAAM,EAAGC,SAAU,UACjD,GAAG,IACH,IAAMC,EAAUhB,IAChB,OACIiB,EAAAA,EAAAA,KAACC,EAAAA,EAAG,CAACC,UAAWH,EAAQb,UAAUiB,UAC9BC,EAAAA,EAAAA,MAAAC,EAAAA,SAAA,CAAAF,SAAA,CAAE,wEACqB,OAAJb,QAAI,IAAJA,GAAU,QAANF,EAAJE,EAAMA,YAAI,IAAAF,OAAN,EAAJA,EAAYkB,SAAS,oCAAa,OAAJhB,QAAI,IAAJA,GAAU,QAAND,EAAJC,EAAMA,YAAI,IAAAD,OAAN,EAAJA,EAAYkB,MAAM,OAI/E,E,4BCOA,EA1B4B,SAACC,GAAgB,IAADC,EAElCC,EAAkB,QAAbD,GADElB,EAAAA,EAAAA,KAAY,SAACC,GAA2B,OAAKA,EAAMmB,IAAI,IACjDD,aAAK,IAAAD,EAAAA,EAAIG,aAAaC,QAAQ,SAqBjD,OAnBApB,EAAAA,EAAAA,YAAU,WACN,GAAIiB,EAAO,CACP,IAAII,GAAUC,EAAAA,EAAAA,GAAgB,OAALL,QAAK,IAALA,EAAAA,EAAS,IAElCM,EAAAA,EAAMC,SAA+B,CACjCC,KAAMC,EAAAA,EAAeC,aACrBC,QAASX,IAGbM,EAAAA,EAAMC,SAA+B,CACjCC,KAAMC,EAAAA,EAAeG,YACrBD,QAASP,GAEjB,CAIJ,GAAG,CAACJ,KAEGV,EAAAA,EAAAA,KAAAK,EAAAA,SAAA,CAAAF,SAAGK,EAAML,UACpB,E,kCCfMoB,EAAkB,SAAHC,GAAgE,IAA1DrB,EAAQqB,EAARrB,SAAUsB,EAAQD,EAARC,SAAUC,EAAKF,EAALE,MACrCC,IADmDC,EAAAA,EAAAA,GAAAJ,EAAAK,GAC7BH,EAAMC,qBAClC,GAAIF,EAAU,CACV,IAAMK,EAAoB,OAARL,QAAQ,IAARA,OAAQ,EAARA,EAAUlB,MAC5B,OAAKoB,EAAoBI,KAAI,SAACC,GAAU,OAAKF,EAAUG,SAASD,EAAW,KAGpEhC,EAAAA,EAAAA,KAAAK,EAAAA,SAAA,CAAAF,SAAGA,KAFCH,EAAAA,EAAAA,KAACkC,EAAAA,GAAQ,CAACC,GAAI,KAG7B,CACI,OAAOnC,EAAAA,EAAAA,KAAAK,EAAAA,SAAA,CAAAF,SAAGA,GAElB,EA2CA,EAzCsB,WAClB,IAAMb,GAAYC,EAAAA,EAAAA,KAAY,SAACC,GAA2B,OAAKA,EAAMF,IAAI,IACnEoB,EAAQE,aAAaC,QAAQ,SAC7BuB,GAAWC,EAAAA,EAAAA,MAQjB,OANA5C,EAAAA,EAAAA,YAAU,gBACO6C,GAAT5B,GACA0B,EAAS,IAEjB,GAAG,CAACA,EAAU1B,KAGVV,EAAAA,EAAAA,KAACuC,EAAmB,CAAApC,UAChBC,EAAAA,EAAAA,MAACoC,EAAAA,GAAM,CAAArC,SAAA,EACHH,EAAAA,EAAAA,KAACyC,EAAAA,GAAK,CACFC,KAAK,uBACLC,SACI3C,EAAAA,EAAAA,KAACuB,EAAe,CACZE,SAAc,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAChBoC,MAAO,CAAEC,oBAAqB,CAAC,SAAUxB,UAEzCH,EAAAA,EAAAA,KAAC4C,EAAa,SAI1B5C,EAAAA,EAAAA,KAACyC,EAAAA,GAAK,CACFC,KAAK,mBACLC,SACI3C,EAAAA,EAAAA,KAACuB,EAAe,CACZE,SAAc,OAAJnC,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAChBoC,MAAO,CAAEC,oBAAqB,CAAC,eAAgBxB,UAE/CH,EAAAA,EAAAA,KAAC6C,EAAc,YAO3C,C","sources":["views/Dashboard/AdminDashboard/index.tsx","views/Dashboard/UserDashboard/index.tsx","components/MainLayoutComponent.tsx","routes/privateRoutes.tsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport { Theme, Box, TextField } from \"@mui/material\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MainReducerInterface } from \"../../../provider/reducer/main.reducer\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    container: {\r\n        margin: \"0 52px\",\r\n    },\r\n}));\r\nconst AdminDashboard = () => {\r\n    const user: any = useSelector((state: MainReducerInterface) => state.user);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\r\n    }, []);\r\n\r\n    useEffect(() => {}, [user]);\r\n    const classes = useStyles();\r\n    return (\r\n        <Box className={classes.container}>\r\n            <>\r\n                سلام خوش آمدی {user?.user?.username} با نقش {user?.user?.roles[0]}\r\n            </>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default AdminDashboard;\r\n","import React, { useEffect } from \"react\";\r\nimport { Theme, Box, TextField } from \"@mui/material\";\r\nimport { makeStyles } from \"@mui/styles\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MainReducerInterface } from \"../../../provider/reducer/main.reducer\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    container: {\r\n        margin: \"0 52px\",\r\n    },\r\n}));\r\nconst UserDashboard = () => {\r\n    const user: any = useSelector((state: MainReducerInterface) => state.user);\r\n\r\n    useEffect(() => {\r\n        window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\r\n    }, []);\r\n    const classes = useStyles();\r\n    return (\r\n        <Box className={classes.container}>\r\n            <>\r\n                سلام خوش آمدی {user?.user?.username} با نقش {user?.user?.roles[0]}\r\n            </>\r\n        </Box>\r\n    );\r\n};\r\n\r\nexport default UserDashboard;\r\n","import React, { FC, useEffect, useState } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MainReducerInterface } from \"../provider/reducer/main.reducer\";\r\nimport { store } from \"../provider/store\";\r\nimport { ActionInterface, ActionTypeEnum } from \"../provider/action.interface\";\r\nimport jwt_decode from \"jwt-decode\";\r\n\r\nconst MainLayoutComponent = (props: any) => {\r\n    const auth = useSelector((state: MainReducerInterface) => state.auth);\r\n    const token = auth.token ?? localStorage.getItem(\"token\");\r\n\r\n    useEffect(() => {\r\n        if (token) {\r\n            var decoded = jwt_decode(token ?? \"\");\r\n\r\n            store.dispatch<ActionInterface<any>>({\r\n                type: ActionTypeEnum.SetUserToken,\r\n                payload: token,\r\n            });\r\n\r\n            store.dispatch<ActionInterface<any>>({\r\n                type: ActionTypeEnum.SetUserData,\r\n                payload: decoded,\r\n            });\r\n        }\r\n\r\n        // setUserData(data);\r\n        // const token = auth.token ?? localStorage.getItem(\"token\");\r\n    }, [token]);\r\n\r\n    return <>{props.children}</>;\r\n};\r\n\r\nexport default MainLayoutComponent;\r\n","import React, { useEffect } from \"react\";\r\nimport { Routes, Route, Navigate, useNavigate } from \"react-router-dom\";\r\nimport AdminDashboard from \"../views/Dashboard/AdminDashboard\";\r\nimport UserDashboard from \"../views/Dashboard/UserDashboard\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { MainReducerInterface } from \"../provider/reducer/main.reducer\";\r\n\r\nimport { ActionTypeEnum, ActionInterface } from \"../provider/action.interface\";\r\nimport MainLayoutComponent from \"../components/MainLayoutComponent\";\r\nimport jwt_decode from \"jwt-decode\";\r\ninterface AuthRouteProps {\r\n    userRole: any;\r\n    route: { requiredPermissions: Array<string> };\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst AuthorizedRoute = ({ children, userRole, route, ...rest }: AuthRouteProps) => {\r\n    const requiredPermissions = route.requiredPermissions;\r\n    if (userRole) {\r\n        const userRoles = userRole?.roles;\r\n        if (!requiredPermissions.map((permission) => userRoles.includes(permission))) {\r\n            return <Navigate to={\"/\"} />;\r\n        }\r\n        return <>{children}</>;\r\n    } else {\r\n        return <>{children}</>;\r\n    }\r\n};\r\n\r\nconst PrivateRoutes = () => {\r\n    const user: any = useSelector((state: MainReducerInterface) => state.user);\r\n    const token = localStorage.getItem(\"token\");\r\n    const navigate = useNavigate();\r\n\r\n    useEffect(() => {\r\n        if (token == undefined) {\r\n            navigate(\"/\");\r\n        }\r\n    }, [navigate, token]);\r\n\r\n    return (\r\n        <MainLayoutComponent>\r\n            <Routes>\r\n                <Route\r\n                    path=\"/karanbala/dashboard\"\r\n                    element={\r\n                        <AuthorizedRoute\r\n                            userRole={user?.user}\r\n                            route={{ requiredPermissions: [\"User\"] }}\r\n                        >\r\n                            <UserDashboard />\r\n                        </AuthorizedRoute>\r\n                    }\r\n                />\r\n                <Route\r\n                    path=\"/karanbala/admin\"\r\n                    element={\r\n                        <AuthorizedRoute\r\n                            userRole={user?.user}\r\n                            route={{ requiredPermissions: [\"SuperAdmin\"] }}\r\n                        >\r\n                            <AdminDashboard />\r\n                        </AuthorizedRoute>\r\n                    }\r\n                />\r\n            </Routes>\r\n        </MainLayoutComponent>\r\n    );\r\n};\r\n\r\nexport default PrivateRoutes;\r\n"],"names":["useStyles","makeStyles","theme","container","margin","_user$user","_user$user2","user","useSelector","state","useEffect","window","scrollTo","top","left","behavior","classes","_jsx","Box","className","children","_jsxs","_Fragment","username","roles","props","_auth$token","token","auth","localStorage","getItem","decoded","jwt_decode","store","dispatch","type","ActionTypeEnum","SetUserToken","payload","SetUserData","AuthorizedRoute","_ref","userRole","route","requiredPermissions","_objectWithoutProperties","_excluded","userRoles","map","permission","includes","Navigate","to","navigate","useNavigate","undefined","MainLayoutComponent","Routes","Route","path","element","UserDashboard","AdminDashboard"],"sourceRoot":""}